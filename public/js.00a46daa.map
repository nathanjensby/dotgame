{"version":3,"sources":["js/util.js","js/textFlash.js","js/enums.js","js/cage.js","js/index.js"],"names":["randomNumber","min","max","Math","floor","random","determineAnimationTime","desiredFallRate","windowHeight","window","innerHeight","updateScoreHTML","newScore","document","querySelector","innerHTML","updateSliderHTML","newValue","determinePosition","imageWidth","maxWidth","clientWidth","removeCage","imageWrapper","removeEventListener","parentNode","removeChild","addPointValueToScore","state","isPlaying","updateScore","dataset","pointvalue","amtToAdd","score","textFlash","type","target","flash","createElement","classList","add","setAttribute","addEventListener","appendChild","BASE_SIZE","CAGES","img","cagev1","cagev2","cagev3","cagev4","cagev5","addCage","randNum","randomCage","wrapperData","size","pointValue","position","currentSpeed","innerImage","src","alt","slider","scoreDisplay","startButton","resetButton","gameState","value","myInterval","event","setInterval","clearInterval","cages","querySelectorAll","forEach","cage","style","WebkitAnimationPlayState"],"mappings":"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","file":"js.00a46daa.map","sourceRoot":"../src","sourcesContent":["const randomNumber = (min, max) => Math.floor(Math.random() * (max - min)) + min;\n\nconst determineAnimationTime = (desiredFallRate) => {\n  const windowHeight = window.innerHeight;\n  return windowHeight / desiredFallRate;\n}\n\nconst updateScoreHTML = (newScore) => document.querySelector('#currentScore').innerHTML = newScore;\n\nconst updateSliderHTML = (newValue) => document.querySelector('#currentSpeed').innerHTML = `${newValue} px/s`;\n\nconst determinePosition = (imageWidth) => {\n  const maxWidth = document.querySelector('.gameBoard').clientWidth;\n  return randomNumber(0 + (imageWidth / 2), maxWidth - (imageWidth / 2));\n}\n\nconst removeCage = (imageWrapper) => {\n  imageWrapper.removeEventListener(\"animationend\", removeCage);\n  imageWrapper.parentNode.removeChild(imageWrapper);\n}\n\nconst addPointValueToScore = (state, imageWrapper) => {\n  if (state.isPlaying) {\n    updateScore(state, imageWrapper.dataset.pointvalue);\n    removeCage(imageWrapper);\n  }\n}\n\nconst updateScore = (state, amtToAdd) => {\n  state.score += +amtToAdd;\n document.querySelector('#currentScore').innerHTML = state.score;\n}\n\nexport {\n  randomNumber,\n  determineAnimationTime,\n  determinePosition,\n  updateScoreHTML,\n  updateSliderHTML,\n  removeCage,\n  addPointValueToScore,\n  updateScore\n};","export const textFlash = (type) => {\n  const target = document.querySelector('.gameBoard');\n\n  const flash = document.createElement('div');\n  flash.classList.add('textFlash', `${type}`);\n  flash.setAttribute('style', `\n    animation: ${type === 'restart' ? 'rotateAndFlash' : 'textFlash' } 1s ease-in-out;\n  `);\n  flash.addEventListener(\"animationend\", () => {\n    flash.parentNode.removeChild(flash);\n  });\n\n  target.appendChild(flash);\n}","import cagev1 from '../images/cagev1.png';\nimport cagev2 from '../images/cagev2.png';\nimport cagev3 from '../images/cagev3.png';\nimport cagev4 from '../images/cagev4.png';\nimport cagev5 from '../images/cagev5.png';\n\nexport const BASE_SIZE = 50;\n\nexport const CAGES = [{ img: cagev1 }, { img: cagev2 }, { img: cagev3 }, { img: cagev4 }, { img: cagev5 }];\n","import { randomNumber, determineAnimationTime, determinePosition, removeCage, addPointValueToScore, updateScore } from './util.js';\nimport { CAGES, BASE_SIZE, BASE_SPEED } from './enums';\n\nexport const addCage = (state) => {\n  const randNum = randomNumber(1, 11);\n  const randomCage = randomNumber(0, 5);\n  const imageWidth = (randNum * 10) + BASE_SIZE;\n  const wrapperData = {\n    size: imageWidth,\n    pointValue: 11 - randNum,\n    position: determinePosition(imageWidth)\n  };\n\n\n  const imageWrapper = document.createElement('div');\n  imageWrapper.classList.add('imageWrapper');\n  imageWrapper.setAttribute(\"style\", `\n    height: ${wrapperData.size}px;\n    width: ${wrapperData.size}px;\n    animation: slideDown ${determineAnimationTime(state.currentSpeed)}s linear;\n    left: ${wrapperData.position}px;\n    `);\n  imageWrapper.setAttribute(\"data-pointValue\", `${wrapperData.pointValue}`);\n  imageWrapper.addEventListener(\"click\", () => addPointValueToScore(state, imageWrapper));\n  imageWrapper.addEventListener(\"animationend\", () => removeCage(imageWrapper));\n\n  const innerImage = document.createElement('img');\n  innerImage.setAttribute('style', 'width: 100%');\n  innerImage.src = CAGES[randomCage].img;\n  innerImage.alt = 'Nic Cage';\n  imageWrapper.appendChild(innerImage);\n\n  document.querySelector('.gameBoard').appendChild(imageWrapper)\n};","// Util\nimport { updateSliderHTML, removeCage, updateScoreHTML } from './util.js';\n\n// Components\nimport { textFlash } from './textFlash.js';\nimport { addCage } from './cage.js';\n\n\nconst slider = document.querySelector('#speedControl');\nconst scoreDisplay = document.querySelector('#currentScore');\nscoreDisplay.innerHTML = 0;\nconst startButton = document.querySelector('#startButton');\nconst resetButton = document.querySelector('#resetButton');\n\n// Global variables\nlet gameState = {\n  currentSpeed: slider.value,\n  score: 0,\n  isPlaying: false\n};\nlet myInterval;\n\nupdateSliderHTML(gameState.currentSpeed);\n\n// Update currentSpeed when slider is adjusted\nslider.addEventListener('input', (event) => {\n  const { value } = event.target;\n  gameState.currentSpeed = value;\n  updateSliderHTML(value);\n});\n\n// Capture button press\nstartButton.addEventListener('click', () => {\n  const { isPlaying } = gameState;\n  gameState.isPlaying = !isPlaying;\n  startButton.innerHTML = gameState.isPlaying ? 'Pause' : 'Start';\n  // TODO: add icons for pause and play\n  textFlash(gameState.isPlaying ? 'play' : 'pause');\n\n  // Add a cage to a random lane every second\n  if (gameState.isPlaying) {\n    myInterval = setInterval(() => addCage(gameState), 1000);\n  } else {\n    clearInterval(myInterval);\n  }\n\n  // Grab all cages from the dom and pause animation\n  const cages = document.querySelectorAll('.imageWrapper');\n  cages.forEach((cage) => {\n    cage.style.WebkitAnimationPlayState = gameState.isPlaying ? 'running' : 'paused';\n  })\n})\n\n// Reset game\nresetButton.addEventListener('click', () => {\n  gameState.score = 0;\n  gameState.isPlaying = false;\n  updateScoreHTML(0);\n  startButton.innerHTML = 'Start';\n  textFlash('restart');\n  clearInterval(myInterval);\n\n  // Remove all cages from dom\n  const cages = document.querySelectorAll('.imageWrapper');\n  cages.forEach((cage) => {\n    removeCage(cage);\n  })\n})"]}