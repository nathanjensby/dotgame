{"version":3,"sources":["js/util.js","js/textFlash.js","js/enums.js","js/cage.js","js/index.js"],"names":["randomNumber","min","max","Math","floor","random","determineAnimationTime","desiredFallRate","windowHeight","window","innerHeight","updateScoreHTML","newScore","document","querySelector","innerHTML","updateSliderHTML","newValue","updateSliderHeight","sliderContainer","slider","newHeight","getBoundingClientRect","height","setAttribute","determinePosition","imageWidth","maxWidth","clientWidth","removeCage","imageWrapper","removeEventListener","parentNode","removeChild","addPointValueToScore","state","isPlaying","updateScore","dataset","pointvalue","amtToAdd","score","textFlash","type","target","flash","createElement","classList","add","addEventListener","appendChild","BASE_SIZE","CAGES","img","cagev1","cagev2","cagev3","cagev4","cagev5","addCage","randNum","randomCage","wrapperData","size","pointValue","position","currentSpeed","innerImage","src","alt","scoreDisplay","startButton","resetButton","gameState","value","myInterval","event","setInterval","clearInterval","cages","querySelectorAll","forEach","cage","style","WebkitAnimationPlayState"],"mappings":"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","file":"js.00a46daa.map","sourceRoot":"../src","sourcesContent":["const randomNumber = (min, max) => Math.floor(Math.random() * (max - min)) + min;\n\nconst determineAnimationTime = (desiredFallRate) => {\n  const windowHeight = window.innerHeight;\n  return windowHeight / desiredFallRate;\n}\n\nconst updateScoreHTML = (newScore) => document.querySelector('#currentScore').innerHTML = newScore;\n\nconst updateSliderHTML = (newValue) => document.querySelector('#currentSpeed').innerHTML = `${newValue} px/s`;\n\nconst updateSliderHeight = () => {\n  const sliderContainer = document.querySelector('.sliderContainer');\n  const slider = document.querySelector('.slider');\n  const newHeight = sliderContainer.getBoundingClientRect().height;\n  slider.setAttribute('style', `\n    width: ${newHeight}px;\n    transform-origin: ${newHeight / 2}px ${newHeight / 2}px\n  `);\n};\n\nconst determinePosition = (imageWidth) => {\n  const maxWidth = document.querySelector('.gameBoard').clientWidth;\n  return randomNumber(0 + (imageWidth / 2), maxWidth - (imageWidth / 2));\n}\n\nconst removeCage = (imageWrapper) => {\n  imageWrapper.removeEventListener(\"animationend\", removeCage);\n  imageWrapper.parentNode.removeChild(imageWrapper);\n}\n\nconst addPointValueToScore = (state, imageWrapper) => {\n  if (state.isPlaying) {\n    updateScore(state, imageWrapper.dataset.pointvalue);\n    removeCage(imageWrapper);\n  }\n}\n\nconst updateScore = (state, amtToAdd) => {\n  state.score += +amtToAdd;\n document.querySelector('#currentScore').innerHTML = state.score;\n}\n\nexport {\n  randomNumber,\n  determineAnimationTime,\n  determinePosition,\n  updateScoreHTML,\n  updateSliderHTML,\n  removeCage,\n  addPointValueToScore,\n  updateScore,\n  updateSliderHeight\n};","export const textFlash = (type) => {\n  const target = document.querySelector('.gameBoard');\n\n  const flash = document.createElement('div');\n  flash.classList.add('textFlash', `${type}`);\n  flash.setAttribute('style', `\n    animation: ${type === 'restart' ? 'rotateAndFlash' : 'textFlash' } 1s ease-in-out;\n  `);\n  flash.addEventListener(\"animationend\", () => {\n    flash.parentNode.removeChild(flash);\n  });\n\n  target.appendChild(flash);\n}","import cagev1 from '../images/cagev1.png';\nimport cagev2 from '../images/cagev2.png';\nimport cagev3 from '../images/cagev3.png';\nimport cagev4 from '../images/cagev4.png';\nimport cagev5 from '../images/cagev5.png';\n\nexport const BASE_SIZE = 50;\n\nexport const CAGES = [{ img: cagev1 }, { img: cagev2 }, { img: cagev3 }, { img: cagev4 }, { img: cagev5 }];\n","import { randomNumber, determineAnimationTime, determinePosition, removeCage, addPointValueToScore, updateScore } from './util.js';\nimport { CAGES, BASE_SIZE, BASE_SPEED } from './enums';\n\nexport const addCage = (state) => {\n  const randNum = randomNumber(1, 11);\n  const randomCage = randomNumber(0, 5);\n  const imageWidth = (randNum * 10) + BASE_SIZE;\n  const wrapperData = {\n    size: imageWidth,\n    pointValue: 11 - randNum,\n    position: determinePosition(imageWidth)\n  };\n\n\n  const imageWrapper = document.createElement('div');\n  imageWrapper.classList.add('imageWrapper');\n  imageWrapper.setAttribute(\"style\", `\n    height: ${wrapperData.size}px;\n    width: ${wrapperData.size}px;\n    animation: slideDown ${determineAnimationTime(state.currentSpeed)}s linear;\n    left: ${wrapperData.position}px;\n    `);\n  imageWrapper.setAttribute(\"data-pointValue\", `${wrapperData.pointValue}`);\n  imageWrapper.addEventListener(\"click\", () => addPointValueToScore(state, imageWrapper));\n  imageWrapper.addEventListener(\"animationend\", () => removeCage(imageWrapper));\n\n  const innerImage = document.createElement('img');\n  innerImage.setAttribute('style', 'width: 100%');\n  innerImage.src = CAGES[randomCage].img;\n  innerImage.alt = 'Nic Cage';\n  imageWrapper.appendChild(innerImage);\n\n  document.querySelector('.gameBoard').appendChild(imageWrapper)\n};","// Util\nimport { updateSliderHTML, updateSliderHeight, removeCage, updateScoreHTML } from './util.js';\n\n// Components\nimport { textFlash } from './textFlash.js';\nimport { addCage } from './cage.js';\n\n\nconst slider = document.querySelector('#speedControl');\nconst scoreDisplay = document.querySelector('#currentScore');\nscoreDisplay.innerHTML = 0;\nconst startButton = document.querySelector('#startButton');\nconst resetButton = document.querySelector('#resetButton');\n\n// Global variables\nlet gameState = {\n  currentSpeed: slider.value,\n  score: 0,\n  isPlaying: false\n};\nlet myInterval;\n\nwindow.addEventListener('resize', () => {\n  updateSliderHeight();\n})\n\nupdateSliderHTML(gameState.currentSpeed);\nupdateSliderHeight();\n\n// Update currentSpeed when slider is adjusted\nslider.addEventListener('input', (event) => {\n  const { value } = event.target;\n  gameState.currentSpeed = value;\n  updateSliderHTML(value);\n});\n\n// Capture button press\nstartButton.addEventListener('click', () => {\n  const { isPlaying } = gameState;\n  gameState.isPlaying = !isPlaying;\n  startButton.innerHTML = gameState.isPlaying ? 'Pause' : 'Start';\n  // TODO: add icons for pause and play\n  textFlash(gameState.isPlaying ? 'play' : 'pause');\n\n  // Add a cage to a random lane every second\n  if (gameState.isPlaying) {\n    myInterval = setInterval(() => addCage(gameState), 1000);\n  } else {\n    clearInterval(myInterval);\n  }\n\n  // Grab all cages from the dom and pause animation\n  const cages = document.querySelectorAll('.imageWrapper');\n  cages.forEach((cage) => {\n    cage.style.WebkitAnimationPlayState = gameState.isPlaying ? 'running' : 'paused';\n  })\n})\n\n// Reset game\nresetButton.addEventListener('click', () => {\n  gameState.score = 0;\n  gameState.isPlaying = false;\n  updateScoreHTML(0);\n  startButton.innerHTML = 'Start';\n  textFlash('restart');\n  clearInterval(myInterval);\n\n  // Remove all cages from dom\n  const cages = document.querySelectorAll('.imageWrapper');\n  cages.forEach((cage) => {\n    removeCage(cage);\n  })\n})"]}